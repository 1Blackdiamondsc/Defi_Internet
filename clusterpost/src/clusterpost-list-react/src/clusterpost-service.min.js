export default class ClusterpostService{constructor(){this.http={}}setHttp(t){this.http=t}getExecutionServers(){return this.http({method:"GET",url:"/executionserver"})}getJobStatus(t){return this.http({method:"GET",url:"/executionserver/"+t})}submitJob(t,e){return this.http({method:"POST",url:"/executionserver/"+t,data:{force:e}})}killJob(t){return this.http({method:"DELETE",url:"/executionserver/"+t})}createJob(t){return this.http({method:"POST",url:"/dataprovider",data:t})}getAllJobs(t){return this.http({method:"GET",url:"/dataprovider",params:{executable:t}})}updateJob(t){return this.http({method:"PUT",url:"/dataprovider",data:t})}getJobCount(t){return this.http({method:"GET",url:"/dataprovider/count"})}getJob(t){return this.http({method:"GET",url:"/dataprovider/"+t})}getJobDownload(t){return this.http({method:"GET",url:"/dataprovider/download/job/"+t,responseType:"blob"})}getAttachment(t,e,r){return this.http({method:"GET",url:"/dataprovider/"+t+"/"+encodeURIComponent(e),responseType:r})}getAttachmentDowloadToken(t,e,r){return this.http({method:"GET",url:"/dataprovider/download/"+t+"/"+encodeURIComponent(e),params:{expires:r}})}getDownloadAttachmentURL(t,e){return this.getAttachmentDowloadToken(t,e).then(function(t){return"/dataprovider/download/"+t.data.token})}addAttachment(t,e,r){return this.http({method:"PUT",url:"/dataprovider/"+t+"/"+e,data:r})}addAttachments(t,e,r){var o=this,a=function(t,e,r,n,d){return o.addAttachment(t,e[n],r[n]).then(function(o){return d.push(o),++n<e.length&&n<r.length?a(t,e,r,n,d):d})};return a(t,e,r,0,[])}getJobUser(t,e,r){return this.http({method:"GET",url:"/dataprovider/user",params:{userEmail:t,jobstatus:e,executable:r}})}getUserJobs(t){return this.http({method:"GET",url:"/dataprovider/user",params:t})}deleteJob(t){return this.http({method:"DELETE",url:"/dataprovider/"+t})}createAndSubmitJob(t,e,r){var o=this;return o.createJob(t).then(function(t){var a=t.data.id;return o.addAttachments(a,e,r).then(function(t){return o.submitJob(a)})})}getExecutionServerTokens(){return this.http({method:"GET",url:"/executionserver/tokens"})}}