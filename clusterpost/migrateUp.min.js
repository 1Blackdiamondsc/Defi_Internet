var cuv=require("couch-update-views"),env=process.env.NODE_ENV;if(!env)throw"Please set NODE_ENV variable.";const getConfigFile=function(){try{return require(process.cwd()+"/conf.my."+env+".json")}catch(e){return require(process.cwd()+"/conf."+env+".json")}};var conf=getConfigFile(),clusterpostProvider=conf.plugins["clusterpost-provider"],clusterjobs=clusterpostProvider.dataproviders[clusterpostProvider.default.dataprovider],couchdb=clusterjobs.hostname+"/"+clusterjobs.database,views=path.join("./src/clusterpost-server/","./views");cuv.migrateUp(couchdb,views).then(function(e){console.log(e),process.exit(0)}).catch(function(e){console.log(error),process.exit(1)});