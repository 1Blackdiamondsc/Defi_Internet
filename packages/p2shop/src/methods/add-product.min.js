import{price}from"@ecomplus/utils";export default({addItem:i},t,[r,e,u=1,c=!0])=>{const p=e&&r.variations?r.variations.find(({_id:i})=>i===e):r;if(p.product_id=r._id,e&&(p.variation_id=e,p.slug=r.slug,p.picture_id&&r.pictures)){const i=r.pictures.filter(i=>i._id===p.picture_id);i.length&&(p.picture=i[0])}return!p.picture&&r.pictures&&(p.picture=r.pictures[0]),p.quantity=p.min_quantity||r.min_quantity||u,p.price=price(p)||price(r),i(p,c)};