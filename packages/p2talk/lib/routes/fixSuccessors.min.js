"use strict";const Endpoint=require("../Endpoint"),fixSuccessors=function(s){if(!s)throw new Error("Peer is missing.");return(e,r)=>{s.remote(s.successor).run("successors",(e,n)=>{if(e)return s.fixSuccessor(),r.sendStatus(500);n.unshift(new Endpoint(s.successor)),s.successors=n,r.sendStatus(200)})}};module.exports=fixSuccessors;