"use strict";const interval=require("../interval"),closestPrecedingFinger=function(e){if(!e)throw new Error("Peer is missing.");return(r,n)=>{const t=r.body.id;if(!t)return n.sendStatus(400);for(let r=160;r>=1;r--){const i=e.fingers[r];if(i&&interval({left:e.self.id,right:t,type:"open"}).contains(i.id))return n.send(i)}n.send(e.self)}};module.exports=closestPrecedingFinger;